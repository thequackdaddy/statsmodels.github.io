{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Prediction (out of sample)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "%matplotlib inline"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "import statsmodels.api as sm"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Artificial data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "nsample = 50\n",
    "sig = 0.25\n",
    "x1 = np.linspace(0, 20, nsample)\n",
    "X = np.column_stack((x1, np.sin(x1), (x1-5)**2))\n",
    "X = sm.add_constant(X)\n",
    "beta = [5., 0.5, 0.5, -0.02]\n",
    "y_true = np.dot(X, beta)\n",
    "y = y_true + sig * np.random.normal(size=nsample)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Estimation "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "                            OLS Regression Results                            \n",
      "==============================================================================\n",
      "Dep. Variable:                      y   R-squared:                       0.979\n",
      "Model:                            OLS   Adj. R-squared:                  0.978\n",
      "Method:                 Least Squares   F-statistic:                     726.5\n",
      "Date:                Sun, 01 Dec 2019   Prob (F-statistic):           9.75e-39\n",
      "Time:                        22:53:25   Log-Likelihood:                -4.9792\n",
      "No. Observations:                  50   AIC:                             17.96\n",
      "Df Residuals:                      46   BIC:                             25.61\n",
      "Df Model:                           3                                         \n",
      "Covariance Type:            nonrobust                                         \n",
      "==============================================================================\n",
      "                 coef    std err          t      P>|t|      [0.025      0.975]\n",
      "------------------------------------------------------------------------------\n",
      "const          4.9960      0.095     52.595      0.000       4.805       5.187\n",
      "x1             0.4900      0.015     33.447      0.000       0.460       0.519\n",
      "x2             0.4927      0.058      8.555      0.000       0.377       0.609\n",
      "x3            -0.0189      0.001    -14.680      0.000      -0.021      -0.016\n",
      "==============================================================================\n",
      "Omnibus:                        1.335   Durbin-Watson:                   1.897\n",
      "Prob(Omnibus):                  0.513   Jarque-Bera (JB):                1.201\n",
      "Skew:                           0.218   Prob(JB):                        0.548\n",
      "Kurtosis:                       2.378   Cond. No.                         221.\n",
      "==============================================================================\n",
      "\n",
      "Warnings:\n",
      "[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.\n"
     ]
    }
   ],
   "source": [
    "olsmod = sm.OLS(y, X)\n",
    "olsres = olsmod.fit()\n",
    "print(olsres.summary())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## In-sample prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[ 4.52391737  4.9933919   5.42444563  5.79022778  6.07357787  6.26984514\n",
      "  6.38765268  6.44748065  6.47830146  6.5128197   6.58209884  6.7104576\n",
      "  6.91147449  7.18575682  7.520841    7.89324022  8.27230332  8.6252506\n",
      "  8.92255955  9.14281519  9.27622861  9.32624515  9.30897844  9.25056289\n",
      "  9.18285995  9.13822332  9.14418333  9.21892383  9.36829457  9.58485014\n",
      "  9.84907324 10.1325813  10.40278963 10.62826505 10.78389024 10.85499042\n",
      " 10.83974443 10.7494839  10.60683151 10.44198416 10.28775166 10.17416622\n",
      " 10.12354824 10.1468391  10.24180352 10.39339686 10.57623688 10.75877394\n",
      " 10.90847457 10.99716661]\n"
     ]
    }
   ],
   "source": [
    "ypred = olsres.predict(X)\n",
    "print(ypred)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Create a new sample of explanatory variables Xnew, predict and plot"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[10.99554614 10.86424136 10.62257343 10.31457285  9.99819922  9.73115073\n",
      "  9.55673764  9.49327842  9.52961471  9.62784333]\n"
     ]
    }
   ],
   "source": [
    "x1n = np.linspace(20.5,25, 10)\n",
    "Xnew = np.column_stack((x1n, np.sin(x1n), (x1n-5)**2))\n",
    "Xnew = sm.add_constant(Xnew)\n",
    "ynewpred =  olsres.predict(Xnew) # predict out of sample\n",
    "print(ynewpred)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Plot comparison"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "\n",
    "fig, ax = plt.subplots()\n",
    "ax.plot(x1, y, 'o', label=\"Data\")\n",
    "ax.plot(x1, y_true, 'b-', label=\"True\")\n",
    "ax.plot(np.hstack((x1, x1n)), np.hstack((ypred, ynewpred)), 'r', label=\"OLS prediction\")\n",
    "ax.legend(loc=\"best\");"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Predicting with Formulas"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Using formulas can make both estimation and prediction a lot easier"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [],
   "source": [
    "from statsmodels.formula.api import ols\n",
    "\n",
    "data = {\"x1\" : x1, \"y\" : y}\n",
    "\n",
    "res = ols(\"y ~ x1 + np.sin(x1) + I((x1-5)**2)\", data=data).fit()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We use the `I` to indicate use of the Identity transform. Ie., we do not want any expansion magic from using `**2`"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Intercept           4.995955\n",
       "x1                  0.489988\n",
       "np.sin(x1)          0.492683\n",
       "I((x1 - 5) ** 2)   -0.018881\n",
       "dtype: float64"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res.params"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Now we only have to pass the single variable and we get the transformed right-hand side variables automatically"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0    10.995546\n",
       "1    10.864241\n",
       "2    10.622573\n",
       "3    10.314573\n",
       "4     9.998199\n",
       "5     9.731151\n",
       "6     9.556738\n",
       "7     9.493278\n",
       "8     9.529615\n",
       "9     9.627843\n",
       "dtype: float64"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res.predict(exog=dict(x1=x1n))"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 1
}
