{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Prediction (out of sample)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "%matplotlib inline"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "import statsmodels.api as sm"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Artificial data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "nsample = 50\n",
    "sig = 0.25\n",
    "x1 = np.linspace(0, 20, nsample)\n",
    "X = np.column_stack((x1, np.sin(x1), (x1-5)**2))\n",
    "X = sm.add_constant(X)\n",
    "beta = [5., 0.5, 0.5, -0.02]\n",
    "y_true = np.dot(X, beta)\n",
    "y = y_true + sig * np.random.normal(size=nsample)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Estimation "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "                            OLS Regression Results                            \n",
      "==============================================================================\n",
      "Dep. Variable:                      y   R-squared:                       0.986\n",
      "Model:                            OLS   Adj. R-squared:                  0.985\n",
      "Method:                 Least Squares   F-statistic:                     1044.\n",
      "Date:                Thu, 05 Dec 2019   Prob (F-statistic):           2.70e-42\n",
      "Time:                        15:39:17   Log-Likelihood:                 3.3642\n",
      "No. Observations:                  50   AIC:                             1.272\n",
      "Df Residuals:                      46   BIC:                             8.920\n",
      "Df Model:                           3                                         \n",
      "Covariance Type:            nonrobust                                         \n",
      "==============================================================================\n",
      "                 coef    std err          t      P>|t|      [0.025      0.975]\n",
      "------------------------------------------------------------------------------\n",
      "const          4.9610      0.080     61.712      0.000       4.799       5.123\n",
      "x1             0.4999      0.012     40.320      0.000       0.475       0.525\n",
      "x2             0.4588      0.049      9.415      0.000       0.361       0.557\n",
      "x3            -0.0195      0.001    -17.901      0.000      -0.022      -0.017\n",
      "==============================================================================\n",
      "Omnibus:                        3.764   Durbin-Watson:                   1.958\n",
      "Prob(Omnibus):                  0.152   Jarque-Bera (JB):                2.911\n",
      "Skew:                           0.578   Prob(JB):                        0.233\n",
      "Kurtosis:                       3.247   Cond. No.                         221.\n",
      "==============================================================================\n",
      "\n",
      "Warnings:\n",
      "[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.\n"
     ]
    }
   ],
   "source": [
    "olsmod = sm.OLS(y, X)\n",
    "olsres = olsmod.fit()\n",
    "print(olsres.summary())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## In-sample prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[ 4.47385295  4.93630707  5.36234523  5.72696062  6.01417121  6.21964565\n",
      "  6.35141484  6.42855249  6.47804135  6.53034005  6.61437881  6.75280631\n",
      "  6.95826852  7.23133109  7.56038632  7.92356037  8.29230698  8.6360976\n",
      "  8.92743711  9.14638123  9.28381325  9.34294193  9.33877431  9.29565004\n",
      "  9.24324251  9.21168357  9.22661293  9.30496568  9.45218984  9.66135132\n",
      "  9.91427314 10.18452187 10.44175056 10.65668466 10.80593175 10.87582485\n",
      " 10.86466785 10.78301419 10.65193298 10.49954734 10.35641393 10.25050252\n",
      " 10.20260067 10.22289837 10.30931386 10.44783567 10.61482465 10.78089781\n",
      " 10.91575589 10.99316142]\n"
     ]
    }
   ],
   "source": [
    "ypred = olsres.predict(X)\n",
    "print(ypred)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Create a new sample of explanatory variables Xnew, predict and plot"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[10.98442397 10.85395725 10.61975558 10.32282569 10.01714686  9.75645492\n",
      "  9.58108585  9.50810009  9.5271056   9.60280213]\n"
     ]
    }
   ],
   "source": [
    "x1n = np.linspace(20.5,25, 10)\n",
    "Xnew = np.column_stack((x1n, np.sin(x1n), (x1n-5)**2))\n",
    "Xnew = sm.add_constant(Xnew)\n",
    "ynewpred =  olsres.predict(Xnew) # predict out of sample\n",
    "print(ynewpred)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Plot comparison"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "\n",
    "fig, ax = plt.subplots()\n",
    "ax.plot(x1, y, 'o', label=\"Data\")\n",
    "ax.plot(x1, y_true, 'b-', label=\"True\")\n",
    "ax.plot(np.hstack((x1, x1n)), np.hstack((ypred, ynewpred)), 'r', label=\"OLS prediction\")\n",
    "ax.legend(loc=\"best\");"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Predicting with Formulas"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Using formulas can make both estimation and prediction a lot easier"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [],
   "source": [
    "from statsmodels.formula.api import ols\n",
    "\n",
    "data = {\"x1\" : x1, \"y\" : y}\n",
    "\n",
    "res = ols(\"y ~ x1 + np.sin(x1) + I((x1-5)**2)\", data=data).fit()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We use the `I` to indicate use of the Identity transform. Ie., we do not want any expansion magic from using `**2`"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Intercept           4.961018\n",
       "x1                  0.499886\n",
       "np.sin(x1)          0.458848\n",
       "I((x1 - 5) ** 2)   -0.019487\n",
       "dtype: float64"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res.params"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Now we only have to pass the single variable and we get the transformed right-hand side variables automatically"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0    10.984424\n",
       "1    10.853957\n",
       "2    10.619756\n",
       "3    10.322826\n",
       "4    10.017147\n",
       "5     9.756455\n",
       "6     9.581086\n",
       "7     9.508100\n",
       "8     9.527106\n",
       "9     9.602802\n",
       "dtype: float64"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res.predict(exog=dict(x1=x1n))"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 1
}
