{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Prediction (out of sample)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "%matplotlib inline"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "import statsmodels.api as sm"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Artificial data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "nsample = 50\n",
    "sig = 0.25\n",
    "x1 = np.linspace(0, 20, nsample)\n",
    "X = np.column_stack((x1, np.sin(x1), (x1-5)**2))\n",
    "X = sm.add_constant(X)\n",
    "beta = [5., 0.5, 0.5, -0.02]\n",
    "y_true = np.dot(X, beta)\n",
    "y = y_true + sig * np.random.normal(size=nsample)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Estimation "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "                            OLS Regression Results                            \n",
      "==============================================================================\n",
      "Dep. Variable:                      y   R-squared:                       0.986\n",
      "Model:                            OLS   Adj. R-squared:                  0.985\n",
      "Method:                 Least Squares   F-statistic:                     1108.\n",
      "Date:                Fri, 29 Nov 2019   Prob (F-statistic):           6.96e-43\n",
      "Time:                        19:47:40   Log-Likelihood:                 5.9192\n",
      "No. Observations:                  50   AIC:                            -3.838\n",
      "Df Residuals:                      46   BIC:                             3.810\n",
      "Df Model:                           3                                         \n",
      "Covariance Type:            nonrobust                                         \n",
      "==============================================================================\n",
      "                 coef    std err          t      P>|t|      [0.025      0.975]\n",
      "------------------------------------------------------------------------------\n",
      "const          5.0252      0.076     65.787      0.000       4.871       5.179\n",
      "x1             0.4885      0.012     41.468      0.000       0.465       0.512\n",
      "x2             0.4771      0.046     10.301      0.000       0.384       0.570\n",
      "x3            -0.0190      0.001    -18.341      0.000      -0.021      -0.017\n",
      "==============================================================================\n",
      "Omnibus:                        0.831   Durbin-Watson:                   1.739\n",
      "Prob(Omnibus):                  0.660   Jarque-Bera (JB):                0.556\n",
      "Skew:                          -0.258   Prob(JB):                        0.757\n",
      "Kurtosis:                       2.984   Cond. No.                         221.\n",
      "==============================================================================\n",
      "\n",
      "Warnings:\n",
      "[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.\n"
     ]
    }
   ],
   "source": [
    "olsmod = sm.OLS(y, X)\n",
    "olsres = olsmod.fit()\n",
    "print(olsres.summary())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## In-sample prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[ 4.55091098  5.01393321  5.43952335  5.80168175  6.0837919   6.28135048\n",
      "  6.40270721  6.46769307  6.50436209  6.54438217  6.6178321   6.74825974\n",
      "  6.94881317  7.22008046  7.54999309  7.91580877  8.2878479   8.63436989\n",
      "  8.92678802  9.14436617  9.27762569  9.32990274  9.31680014  9.26362391\n",
      "  9.2012255   9.16093306  9.16940425  9.2442465   9.39112415  9.6028278\n",
      "  9.86045882 10.1365343  10.39950248 10.61892654 10.77048535 10.83996931\n",
      " 10.82561499 10.73839481 10.60021435 10.4403133  10.29046145 10.17973905\n",
      " 10.12975895 10.1511157  10.2416449  10.38677879 10.5619397  10.73657809\n",
      " 10.87919175 10.96250153]\n"
     ]
    }
   ],
   "source": [
    "ypred = olsres.predict(X)\n",
    "print(ypred)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Create a new sample of explanatory variables Xnew, predict and plot"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[10.95747082 10.82652273 10.58836594 10.28563525  9.97445302  9.7106885\n",
      "  9.53627907  9.46896251  9.49793419  9.58649239]\n"
     ]
    }
   ],
   "source": [
    "x1n = np.linspace(20.5,25, 10)\n",
    "Xnew = np.column_stack((x1n, np.sin(x1n), (x1n-5)**2))\n",
    "Xnew = sm.add_constant(Xnew)\n",
    "ynewpred =  olsres.predict(Xnew) # predict out of sample\n",
    "print(ynewpred)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Plot comparison"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "\n",
    "fig, ax = plt.subplots()\n",
    "ax.plot(x1, y, 'o', label=\"Data\")\n",
    "ax.plot(x1, y_true, 'b-', label=\"True\")\n",
    "ax.plot(np.hstack((x1, x1n)), np.hstack((ypred, ynewpred)), 'r', label=\"OLS prediction\")\n",
    "ax.legend(loc=\"best\");"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Predicting with Formulas"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Using formulas can make both estimation and prediction a lot easier"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [],
   "source": [
    "from statsmodels.formula.api import ols\n",
    "\n",
    "data = {\"x1\" : x1, \"y\" : y}\n",
    "\n",
    "res = ols(\"y ~ x1 + np.sin(x1) + I((x1-5)**2)\", data=data).fit()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We use the `I` to indicate use of the Identity transform. Ie., we do not want any expansion magic from using `**2`"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Intercept           5.025181\n",
       "x1                  0.488511\n",
       "np.sin(x1)          0.477066\n",
       "I((x1 - 5) ** 2)   -0.018971\n",
       "dtype: float64"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res.params"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Now we only have to pass the single variable and we get the transformed right-hand side variables automatically"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0    10.957471\n",
       "1    10.826523\n",
       "2    10.588366\n",
       "3    10.285635\n",
       "4     9.974453\n",
       "5     9.710688\n",
       "6     9.536279\n",
       "7     9.468963\n",
       "8     9.497934\n",
       "9     9.586492\n",
       "dtype: float64"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res.predict(exog=dict(x1=x1n))"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 1
}
