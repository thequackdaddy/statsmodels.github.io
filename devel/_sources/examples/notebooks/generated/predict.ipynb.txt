{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Prediction (out of sample)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "%matplotlib inline"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "import statsmodels.api as sm"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Artificial data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "nsample = 50\n",
    "sig = 0.25\n",
    "x1 = np.linspace(0, 20, nsample)\n",
    "X = np.column_stack((x1, np.sin(x1), (x1-5)**2))\n",
    "X = sm.add_constant(X)\n",
    "beta = [5., 0.5, 0.5, -0.02]\n",
    "y_true = np.dot(X, beta)\n",
    "y = y_true + sig * np.random.normal(size=nsample)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Estimation "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "                            OLS Regression Results                            \n",
      "==============================================================================\n",
      "Dep. Variable:                      y   R-squared:                       0.985\n",
      "Model:                            OLS   Adj. R-squared:                  0.984\n",
      "Method:                 Least Squares   F-statistic:                     1008.\n",
      "Date:                Fri, 13 Dec 2019   Prob (F-statistic):           5.92e-42\n",
      "Time:                        19:25:09   Log-Likelihood:                 3.7288\n",
      "No. Observations:                  50   AIC:                            0.5424\n",
      "Df Residuals:                      46   BIC:                             8.190\n",
      "Df Model:                           3                                         \n",
      "Covariance Type:            nonrobust                                         \n",
      "==============================================================================\n",
      "                 coef    std err          t      P>|t|      [0.025      0.975]\n",
      "------------------------------------------------------------------------------\n",
      "const          5.0839      0.080     63.704      0.000       4.923       5.245\n",
      "x1             0.5042      0.012     40.968      0.000       0.479       0.529\n",
      "x2             0.5158      0.048     10.660      0.000       0.418       0.613\n",
      "x3            -0.0210      0.001    -19.454      0.000      -0.023      -0.019\n",
      "==============================================================================\n",
      "Omnibus:                        0.249   Durbin-Watson:                   2.127\n",
      "Prob(Omnibus):                  0.883   Jarque-Bera (JB):                0.415\n",
      "Skew:                           0.132   Prob(JB):                        0.813\n",
      "Kurtosis:                       2.640   Cond. No.                         221.\n",
      "==============================================================================\n",
      "\n",
      "Warnings:\n",
      "[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.\n"
     ]
    }
   ],
   "source": [
    "olsmod = sm.OLS(y, X)\n",
    "olsres = olsmod.fit()\n",
    "print(olsres.summary())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## In-sample prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[ 4.55837473  5.05121382  5.50341242  5.8868609   6.1835943   6.38874381\n",
      "  6.51133679  6.57281354  6.60350475  6.63764826  6.70776384  6.83931033\n",
      "  7.04650279  7.32997703  7.67668515  8.06203922  8.4539511   8.81810435\n",
      "  9.12359235  9.34799619  9.48106801  9.5264147   9.5009053   9.43189947\n",
      "  9.35275235  9.29733446  9.29446679  9.36318567  9.50961512  9.72596066\n",
      "  9.99179    10.27738991 10.54864812 10.77265779 10.92312404 10.98468414\n",
      " 10.95543154 10.84722911 10.68376013 10.49663716 10.32020822 10.18591348\n",
      " 10.11711973 10.12528131 10.20805816 10.34970032 10.52363557 10.69683519\n",
      " 10.83524048 10.90935851]\n"
     ]
    }
   ],
   "source": [
    "ypred = olsres.predict(X)\n",
    "print(ypred)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Create a new sample of explanatory variables Xnew, predict and plot"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[10.88414501 10.72253941 10.44476867 10.09692751  9.73969279  9.43346767\n",
      "  9.2235929   9.12924571  9.13874465  9.21240956]\n"
     ]
    }
   ],
   "source": [
    "x1n = np.linspace(20.5,25, 10)\n",
    "Xnew = np.column_stack((x1n, np.sin(x1n), (x1n-5)**2))\n",
    "Xnew = sm.add_constant(Xnew)\n",
    "ynewpred =  olsres.predict(Xnew) # predict out of sample\n",
    "print(ynewpred)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Plot comparison"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "\n",
    "fig, ax = plt.subplots()\n",
    "ax.plot(x1, y, 'o', label=\"Data\")\n",
    "ax.plot(x1, y_true, 'b-', label=\"True\")\n",
    "ax.plot(np.hstack((x1, x1n)), np.hstack((ypred, ynewpred)), 'r', label=\"OLS prediction\")\n",
    "ax.legend(loc=\"best\");"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Predicting with Formulas"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Using formulas can make both estimation and prediction a lot easier"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [],
   "source": [
    "from statsmodels.formula.api import ols\n",
    "\n",
    "data = {\"x1\" : x1, \"y\" : y}\n",
    "\n",
    "res = ols(\"y ~ x1 + np.sin(x1) + I((x1-5)**2)\", data=data).fit()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We use the `I` to indicate use of the Identity transform. Ie., we do not want any expansion magic from using `**2`"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Intercept           5.083941\n",
       "x1                  0.504232\n",
       "np.sin(x1)          0.515781\n",
       "I((x1 - 5) ** 2)   -0.021023\n",
       "dtype: float64"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res.params"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Now we only have to pass the single variable and we get the transformed right-hand side variables automatically"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0    10.884145\n",
       "1    10.722539\n",
       "2    10.444769\n",
       "3    10.096928\n",
       "4     9.739693\n",
       "5     9.433468\n",
       "6     9.223593\n",
       "7     9.129246\n",
       "8     9.138745\n",
       "9     9.212410\n",
       "dtype: float64"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res.predict(exog=dict(x1=x1n))"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 1
}
