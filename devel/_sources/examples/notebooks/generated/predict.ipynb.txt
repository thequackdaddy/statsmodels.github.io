{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Prediction (out of sample)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "%matplotlib inline"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "import statsmodels.api as sm"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Artificial data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "nsample = 50\n",
    "sig = 0.25\n",
    "x1 = np.linspace(0, 20, nsample)\n",
    "X = np.column_stack((x1, np.sin(x1), (x1-5)**2))\n",
    "X = sm.add_constant(X)\n",
    "beta = [5., 0.5, 0.5, -0.02]\n",
    "y_true = np.dot(X, beta)\n",
    "y = y_true + sig * np.random.normal(size=nsample)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Estimation "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "                            OLS Regression Results                            \n",
      "==============================================================================\n",
      "Dep. Variable:                      y   R-squared:                       0.976\n",
      "Model:                            OLS   Adj. R-squared:                  0.975\n",
      "Method:                 Least Squares   F-statistic:                     629.6\n",
      "Date:                Thu, 28 Nov 2019   Prob (F-statistic):           2.43e-37\n",
      "Time:                        15:43:19   Log-Likelihood:                -8.2794\n",
      "No. Observations:                  50   AIC:                             24.56\n",
      "Df Residuals:                      46   BIC:                             32.21\n",
      "Df Model:                           3                                         \n",
      "Covariance Type:            nonrobust                                         \n",
      "==============================================================================\n",
      "                 coef    std err          t      P>|t|      [0.025      0.975]\n",
      "------------------------------------------------------------------------------\n",
      "const          5.0608      0.101     49.875      0.000       4.857       5.265\n",
      "x1             0.4866      0.016     31.091      0.000       0.455       0.518\n",
      "x2             0.4582      0.062      7.448      0.000       0.334       0.582\n",
      "x3            -0.0187      0.001    -13.600      0.000      -0.021      -0.016\n",
      "==============================================================================\n",
      "Omnibus:                        0.072   Durbin-Watson:                   2.183\n",
      "Prob(Omnibus):                  0.965   Jarque-Bera (JB):                0.126\n",
      "Skew:                           0.079   Prob(JB):                        0.939\n",
      "Kurtosis:                       2.811   Cond. No.                         221.\n",
      "==============================================================================\n",
      "\n",
      "Warnings:\n",
      "[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.\n"
     ]
    }
   ],
   "source": [
    "olsmod = sm.OLS(y, X)\n",
    "olsres = olsmod.fit()\n",
    "print(olsres.summary())"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## In-sample prediction"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[ 4.59360352  5.04723208  5.46475232  5.82119169  6.1005901   6.29862211\n",
      "  6.42330762  6.49369419  6.53672759  6.58282471  6.6608761   6.79349939\n",
      "  6.99332324  7.2609125   7.5846754   7.94276807  8.30668338  8.64593462\n",
      "  8.93306438  9.1481557   9.28210437  9.33811476  9.33117332  9.28558636\n",
      "  9.23098658  9.19746453  9.21062479  9.28737922  9.43316838  9.64106768\n",
      "  9.89292506 10.16234331 10.4190171  10.63371199 10.78306764 10.85343578\n",
      " 10.84312264 10.7626672  10.63310967 10.48253464 10.34145688 10.23780782\n",
      " 10.19234652 10.21524901 10.30443639 10.44591639 10.61608225 10.78559127\n",
      " 10.92418572 11.00566408]\n"
     ]
    }
   ],
   "source": [
    "ypred = olsres.predict(X)\n",
    "print(ypred)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Create a new sample of explanatory variables Xnew, predict and plot"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[11.00240904 10.87797833 10.6503416  10.36044937 10.06220693  9.80927648\n",
      "  9.64193867  9.57723058  9.6047744   9.68931829]\n"
     ]
    }
   ],
   "source": [
    "x1n = np.linspace(20.5,25, 10)\n",
    "Xnew = np.column_stack((x1n, np.sin(x1n), (x1n-5)**2))\n",
    "Xnew = sm.add_constant(Xnew)\n",
    "ynewpred =  olsres.predict(Xnew) # predict out of sample\n",
    "print(ynewpred)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Plot comparison"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "\n",
    "fig, ax = plt.subplots()\n",
    "ax.plot(x1, y, 'o', label=\"Data\")\n",
    "ax.plot(x1, y_true, 'b-', label=\"True\")\n",
    "ax.plot(np.hstack((x1, x1n)), np.hstack((ypred, ynewpred)), 'r', label=\"OLS prediction\")\n",
    "ax.legend(loc=\"best\");"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## Predicting with Formulas"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Using formulas can make both estimation and prediction a lot easier"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [],
   "source": [
    "from statsmodels.formula.api import ols\n",
    "\n",
    "data = {\"x1\" : x1, \"y\" : y}\n",
    "\n",
    "res = ols(\"y ~ x1 + np.sin(x1) + I((x1-5)**2)\", data=data).fit()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We use the `I` to indicate use of the Identity transform. Ie., we do not want any expansion magic from using `**2`"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Intercept           5.060764\n",
       "x1                  0.486551\n",
       "np.sin(x1)          0.458219\n",
       "I((x1 - 5) ** 2)   -0.018686\n",
       "dtype: float64"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res.params"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Now we only have to pass the single variable and we get the transformed right-hand side variables automatically"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0    11.002409\n",
       "1    10.877978\n",
       "2    10.650342\n",
       "3    10.360449\n",
       "4    10.062207\n",
       "5     9.809276\n",
       "6     9.641939\n",
       "7     9.577231\n",
       "8     9.604774\n",
       "9     9.689318\n",
       "dtype: float64"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res.predict(exog=dict(x1=x1n))"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 1
}
