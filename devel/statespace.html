

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono:400,500,700&display=fallback">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Time Series Analysis by State Space Methods statespace &#8212; statsmodels</title>
  <link rel="icon" type="image/png" sizes="32x32" href="_static/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="_static/icons/favicon-16x16.png">
  <link rel="manifest" href="_static/icons/site.webmanifest">
  <link rel="mask-icon" href="_static/icons/safari-pinned-tab.svg" color="#919191">
  <meta name="msapplication-TileColor" content="#2b5797">
  <meta name="msapplication-config" content="_static/icons/browserconfig.xml">
    <link rel="stylesheet" href="_static/material.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="statsmodels.tsa.statespace.sarimax.SARIMAX" href="generated/statsmodels.tsa.statespace.sarimax.SARIMAX.html" />
    <link rel="prev" title="statsmodels.tsa.interp.denton.dentonm" href="generated/statsmodels.tsa.interp.denton.dentonm.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=indigo data-md-color-accent=blue>
  <svg class="md-svg">
    <defs data-children-count="0">
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448"
           id="__github">
        <path fill="currentColor"
              d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"></path>
      </svg>
    </defs>
  </svg>
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#statespace" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="statsmodels"
           class="md-header-nav__button md-logo">
          
              <img src="_static/statsmodels-logo-v2-bw.svg" height="26"
                   alt="statsmodels logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">statsmodels v0.11.0dev0 (+668)</span>
          <span class="md-header-nav__topic"> Time Series Analysis by State Space Methods statespace </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="search.html" method="GET" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/statsmodels/statsmodels" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    statsmodels
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="user-guide.html" class="md-tabs__link">User Guide</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="statsmodels" class="md-nav__button md-logo">
      
        <img src="_static/statsmodels-logo-v2-bw.svg" alt=" logo" width="48" height="48">
      
    </a>
    <a href="index.html"
       title="statsmodels">statsmodels v0.11.0dev0 (+668)</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/statsmodels/statsmodels" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    statsmodels
  </div>
</a>
    </div>
  
  

  
  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <a href="install.html" class="md-nav__link">Installing statsmodels</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="gettingstarted.html" class="md-nav__link">Getting started</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="user-guide.html" class="md-nav__link">User Guide</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
      <a href="user-guide.html#background" class="md-nav__link">Background</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="user-guide.html#regression-and-linear-models" class="md-nav__link">Regression and Linear Models</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="user-guide.html#time-series-analysis" class="md-nav__link">Time Series Analysis</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
      <a href="tsa.html" class="md-nav__link">Time Series analysis <code class="xref py py-mod docutils literal notranslate"><span class="pre">tsa</span></code></a>
      
    </li>
    <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Time Series Analysis by State Space Methods <code class="xref py py-mod docutils literal notranslate"><span class="pre">statespace</span></code> </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Time Series Analysis by State Space Methods <code class="xref py py-mod docutils literal notranslate"><span class="pre">statespace</span></code></a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#statespace--page-root" class="md-nav__link">Time Series Analysis by State Space Methods <code class="xref py py-mod docutils literal notranslate"><span class="pre">statespace</span></code></a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#models-and-estimation" class="md-nav__link">Models and Estimation</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#seasonal-autoregressive-integrated-moving-average-with-exogenous-regressors-sarimax" class="md-nav__link">Seasonal Autoregressive Integrated Moving-Average with eXogenous regressors (SARIMAX)</a>
        </li>
        <li class="md-nav__item"><a href="#unobserved-components" class="md-nav__link">Unobserved Components</a>
        </li>
        <li class="md-nav__item"><a href="#vector-autoregressive-moving-average-with-exogenous-regressors-varmax" class="md-nav__link">Vector Autoregressive Moving-Average with eXogenous regressors (VARMAX)</a>
        </li>
        <li class="md-nav__item"><a href="#dynamic-factor-models" class="md-nav__link">Dynamic Factor Models</a>
        </li>
        <li class="md-nav__item"><a href="#custom-state-space-models" class="md-nav__link">Custom state space models</a>
        </li>
        <li class="md-nav__item"><a href="#state-space-representation-and-kalman-filtering" class="md-nav__link">State space representation and Kalman filtering</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#statespace-diagnostics" class="md-nav__link">Statespace diagnostics</a>
        </li>
        <li class="md-nav__item"><a href="#statespace-tools" class="md-nav__link">Statespace Tools</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="_sources/statespace.rst.txt">Show Source</a> </li>

  </ul>
</nav>
    </li>
    <li class="md-nav__item">
    
      <a href="vector_ar.html" class="md-nav__link">Vector Autoregressions <code class="xref py py-mod docutils literal notranslate"><span class="pre">tsa.vector_ar</span></code></a>
      
    </li></ul>
    </li>
    <li class="md-nav__item">
    
      <a href="user-guide.html#other-models" class="md-nav__link">Other Models</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="user-guide.html#statistics-and-tools" class="md-nav__link">Statistics and Tools</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="user-guide.html#data-sets" class="md-nav__link">Data Sets</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="user-guide.html#sandbox" class="md-nav__link">Sandbox</a>
      
    </li></ul>
    </li>
    <li class="md-nav__item">
    
      <a href="examples/index.html" class="md-nav__link">Examples</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="release/index.html" class="md-nav__link">What’s new in statsmodels</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="api.html" class="md-nav__link">API Reference</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="about.html" class="md-nav__link">About statsmodels</a>
      
    </li>
    <li class="md-nav__item">
    
      <a href="dev/index.html" class="md-nav__link">Developer Page</a>
      
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#statespace--page-root" class="md-nav__link">Time Series Analysis by State Space Methods <code class="xref py py-mod docutils literal notranslate"><span class="pre">statespace</span></code></a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#models-and-estimation" class="md-nav__link">Models and Estimation</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#seasonal-autoregressive-integrated-moving-average-with-exogenous-regressors-sarimax" class="md-nav__link">Seasonal Autoregressive Integrated Moving-Average with eXogenous regressors (SARIMAX)</a>
        </li>
        <li class="md-nav__item"><a href="#unobserved-components" class="md-nav__link">Unobserved Components</a>
        </li>
        <li class="md-nav__item"><a href="#vector-autoregressive-moving-average-with-exogenous-regressors-varmax" class="md-nav__link">Vector Autoregressive Moving-Average with eXogenous regressors (VARMAX)</a>
        </li>
        <li class="md-nav__item"><a href="#dynamic-factor-models" class="md-nav__link">Dynamic Factor Models</a>
        </li>
        <li class="md-nav__item"><a href="#custom-state-space-models" class="md-nav__link">Custom state space models</a>
        </li>
        <li class="md-nav__item"><a href="#state-space-representation-and-kalman-filtering" class="md-nav__link">State space representation and Kalman filtering</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#statespace-diagnostics" class="md-nav__link">Statespace diagnostics</a>
        </li>
        <li class="md-nav__item"><a href="#statespace-tools" class="md-nav__link">Statespace Tools</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="_sources/statespace.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <span class="target" id="module-statsmodels.tsa.statespace"></span>
<span id="statespace"></span><h1 id="statespace--page-root">Time Series Analysis by State Space Methods <code class="xref py py-mod docutils literal notranslate"><span class="pre">statespace</span></code><a class="headerlink" href="#statespace--page-root" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="#module-statsmodels.tsa.statespace" title="statsmodels.tsa.statespace: Statespace models for time-series analysis"><code class="xref py py-mod docutils literal notranslate"><span class="pre">statsmodels.tsa.statespace</span></code></a> contains classes and functions that are
useful for time series analysis using state space methods.</p>
<p>A general state space model is of the form</p>
<div class="math notranslate nohighlight">
\[\begin{split}y_t &amp; = Z_t \alpha_t + d_t + \varepsilon_t \\
\alpha_t &amp; = T_t \alpha_{t-1} + c_t + R_t \eta_t \\\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(y_t\)</span> refers to the observation vector at time <span class="math notranslate nohighlight">\(t\)</span>,
<span class="math notranslate nohighlight">\(\alpha_t\)</span> refers to the (unobserved) state vector at time
<span class="math notranslate nohighlight">\(t\)</span>, and where the irregular components are defined as</p>
<div class="math notranslate nohighlight">
\[\begin{split}\varepsilon_t \sim N(0, H_t) \\
\eta_t \sim N(0, Q_t) \\\end{split}\]</div>
<p>The remaining variables (<span class="math notranslate nohighlight">\(Z_t, d_t, H_t, T_t, c_t, R_t, Q_t\)</span>) in the
equations are matrices describing the process. Their variable names and
dimensions are as follows</p>
<p>Z : <cite>design</cite> <span class="math notranslate nohighlight">\((k\_endog \times k\_states \times nobs)\)</span></p>
<p>d : <cite>obs_intercept</cite> <span class="math notranslate nohighlight">\((k\_endog \times nobs)\)</span></p>
<p>H : <cite>obs_cov</cite> <span class="math notranslate nohighlight">\((k\_endog \times k\_endog \times nobs)\)</span></p>
<p>T : <cite>transition</cite> <span class="math notranslate nohighlight">\((k\_states \times k\_states \times nobs)\)</span></p>
<p>c : <cite>state_intercept</cite> <span class="math notranslate nohighlight">\((k\_states \times nobs)\)</span></p>
<p>R : <cite>selection</cite> <span class="math notranslate nohighlight">\((k\_states \times k\_posdef \times nobs)\)</span></p>
<p>Q : <cite>state_cov</cite> <span class="math notranslate nohighlight">\((k\_posdef \times k\_posdef \times nobs)\)</span></p>
<p>In the case that one of the matrices is time-invariant (so that, for
example, <span class="math notranslate nohighlight">\(Z_t = Z_{t+1} ~ \forall ~ t\)</span>), its last dimension may
be of size <span class="math notranslate nohighlight">\(1\)</span> rather than size <cite>nobs</cite>.</p>
<p>This generic form encapsulates many of the most popular linear time series
models (see below) and is very flexible, allowing estimation with missing
observations, forecasting, impulse response functions, and much more.</p>
<p><strong>Example: AR(2) model</strong></p>
<p>An autoregressive model is a good introductory example to putting models in
state space form. Recall that an AR(2) model is often written as:</p>
<div class="math notranslate nohighlight">
\[y_t = \phi_1 y_{t-1} + \phi_2 y_{t-2} + \epsilon_t\]</div>
<p>This can be put into state space form in the following way:</p>
<div class="math notranslate nohighlight">
\[\begin{split}y_t &amp; = \begin{bmatrix} 1 &amp; 0 \end{bmatrix} \alpha_t \\
\alpha_t &amp; = \begin{bmatrix}
   \phi_1 &amp; \phi_2 \\
        1 &amp;      0
\end{bmatrix} \alpha_{t-1} + \begin{bmatrix} 1 \\ 0 \end{bmatrix} \eta_t\end{split}\]</div>
<p>Where</p>
<div class="math notranslate nohighlight">
\[Z_t \equiv Z = \begin{bmatrix} 1 &amp; 0 \end{bmatrix}\]</div>
<p>and</p>
<div class="math notranslate nohighlight">
\[\begin{split}T_t \equiv T &amp; = \begin{bmatrix}
   \phi_1 &amp; \phi_2 \\
        1 &amp;      0
\end{bmatrix} \\
R_t \equiv R &amp; = \begin{bmatrix} 1 \\ 0 \end{bmatrix} \\
\eta_t &amp; \sim N(0, \sigma^2)\end{split}\]</div>
<p>There are three unknown parameters in this model:
<span class="math notranslate nohighlight">\(\phi_1, \phi_2, \sigma^2\)</span>.</p>

<h2 id="models-and-estimation">Models and Estimation<a class="headerlink" href="#models-and-estimation" title="Permalink to this headline">¶</a></h2>
<p>The following are the main estimation classes, which can be accessed through
<cite>statsmodels.tsa.statespace.api</cite> and their result classes.</p>

<h3 id="seasonal-autoregressive-integrated-moving-average-with-exogenous-regressors-sarimax">Seasonal Autoregressive Integrated Moving-Average with eXogenous regressors (SARIMAX)<a class="headerlink" href="#seasonal-autoregressive-integrated-moving-average-with-exogenous-regressors-sarimax" title="Permalink to this headline">¶</a></h3>
<p>The <cite>SARIMAX</cite> class is an example of a fully fledged model created using the
statespace backend for estimation. <cite>SARIMAX</cite> can be used very similarly to
<a class="reference internal" href="tsa.html#tsa"><span class="std std-ref">tsa</span></a> models, but works on a wider range of models by adding the
estimation of additive and multiplicative seasonal effects, as well as
arbitrary trend polynomials.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.sarimax.SARIMAX.html#statsmodels.tsa.statespace.sarimax.SARIMAX" title="statsmodels.tsa.statespace.sarimax.SARIMAX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sarimax.SARIMAX</span></code></a>(endog[, exog, order, …])</p></td>
<td><p>Seasonal AutoRegressive Integrated Moving Average with eXogenous regressors model</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.sarimax.SARIMAXResults.html#statsmodels.tsa.statespace.sarimax.SARIMAXResults" title="statsmodels.tsa.statespace.sarimax.SARIMAXResults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sarimax.SARIMAXResults</span></code></a>(model, params, …[, …])</p></td>
<td><p>Class to hold results from fitting an SARIMAX model.</p></td>
</tr>
</tbody>
</table>
<p>For an example of the use of this model, see the
<a class="reference external" href="examples/notebooks/generated/statespace_sarimax_stata.html">SARIMAX example notebook</a>
or the very brief code snippet below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the statsmodels api</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="c1"># Load your dataset</span>
<span class="n">endog</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'your/dataset/here.csv'</span><span class="p">)</span>

<span class="c1"># We could fit an AR(2) model, described above</span>
<span class="n">mod_ar2</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">tsa</span><span class="o">.</span><span class="n">SARIMAX</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="c1"># Note that mod_ar2 is an instance of the SARIMAX class</span>

<span class="c1"># Fit the model via maximum likelihood</span>
<span class="n">res_ar2</span> <span class="o">=</span> <span class="n">mod_ar2</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="c1"># Note that res_ar2 is an instance of the SARIMAXResults class</span>

<span class="c1"># Show the summary of results</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res_ar2</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>

<span class="c1"># We could also fit a more complicated model with seasonal components.</span>
<span class="c1"># As an example, here is an SARIMA(1,1,1) x (0,1,1,4):</span>
<span class="n">mod_sarimax</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">tsa</span><span class="o">.</span><span class="n">SARIMAX</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
                             <span class="n">seasonal_order</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">res_sarimax</span> <span class="o">=</span> <span class="n">mod_sarimax</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="c1"># Show the summary of results</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res_sarimax</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
<p>The results object has many of the attributes and methods you would expect from
other statsmodels results objects, including standard errors, z-statistics,
and prediction / forecasting.</p>
<p>Behind the scenes, the <cite>SARIMAX</cite> model creates the design and transition
matrices (and sometimes some of the other matrices) based on the model
specification.</p>


<h3 id="unobserved-components">Unobserved Components<a class="headerlink" href="#unobserved-components" title="Permalink to this headline">¶</a></h3>
<p>The <cite>UnobservedComponents</cite> class is another example of a statespace model.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.structural.UnobservedComponents.html#statsmodels.tsa.statespace.structural.UnobservedComponents" title="statsmodels.tsa.statespace.structural.UnobservedComponents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">structural.UnobservedComponents</span></code></a>(endog[, …])</p></td>
<td><p>Univariate unobserved components time series model</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.structural.UnobservedComponentsResults.html#statsmodels.tsa.statespace.structural.UnobservedComponentsResults" title="statsmodels.tsa.statespace.structural.UnobservedComponentsResults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">structural.UnobservedComponentsResults</span></code></a>(…)</p></td>
<td><p>Class to hold results from fitting an unobserved components model.</p></td>
</tr>
</tbody>
</table>
<p>For examples of the use of this model, see the <a class="reference external" href="examples/notebooks/generated/statespace_structural_harvey_jaeger.html">example notebook</a> or a notebook on using the unobserved components model to <a class="reference external" href="examples/notebooks/generated/statespace_cycles.html">decompose a time series into a trend and cycle</a> or the very brief code snippet below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the statsmodels api</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="c1"># Load your dataset</span>
<span class="n">endog</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'your/dataset/here.csv'</span><span class="p">)</span>

<span class="c1"># Fit a local level model</span>
<span class="n">mod_ll</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">tsa</span><span class="o">.</span><span class="n">UnobservedComponents</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="s1">'local level'</span><span class="p">)</span>
<span class="c1"># Note that mod_ll is an instance of the UnobservedComponents class</span>

<span class="c1"># Fit the model via maximum likelihood</span>
<span class="n">res_ll</span> <span class="o">=</span> <span class="n">mod_ll</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="c1"># Note that res_ll is an instance of the UnobservedComponentsResults class</span>

<span class="c1"># Show the summary of results</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res_ll</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>

<span class="c1"># Show a plot of the estimated level and trend component series</span>
<span class="n">fig_ll</span> <span class="o">=</span> <span class="n">res_ll</span><span class="o">.</span><span class="n">plot_components</span><span class="p">()</span>

<span class="c1"># We could further add a damped stochastic cycle as follows</span>
<span class="n">mod_cycle</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">tsa</span><span class="o">.</span><span class="n">UnobservedComponents</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="s1">'local level'</span><span class="p">,</span> <span class="n">cycle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                        <span class="n">damped_cycle</span><span class="o">=</span><span class="n">true</span><span class="p">,</span>
                                        <span class="n">stochastic_cycle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">res_cycle</span> <span class="o">=</span> <span class="n">mod_cycle</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="c1"># Show the summary of results</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res_cycle</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>

<span class="c1"># Show a plot of the estimated level, trend, and cycle component series</span>
<span class="n">fig_cycle</span> <span class="o">=</span> <span class="n">res_cycle</span><span class="o">.</span><span class="n">plot_components</span><span class="p">()</span>
</pre></div>
</div>


<h3 id="vector-autoregressive-moving-average-with-exogenous-regressors-varmax">Vector Autoregressive Moving-Average with eXogenous regressors (VARMAX)<a class="headerlink" href="#vector-autoregressive-moving-average-with-exogenous-regressors-varmax" title="Permalink to this headline">¶</a></h3>
<p>The <cite>VARMAX</cite> class is an example of a multivariate statespace model.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.varmax.VARMAX.html#statsmodels.tsa.statespace.varmax.VARMAX" title="statsmodels.tsa.statespace.varmax.VARMAX"><code class="xref py py-obj docutils literal notranslate"><span class="pre">varmax.VARMAX</span></code></a>(endog[, exog, order, trend, …])</p></td>
<td><p>Vector Autoregressive Moving Average with eXogenous regressors model</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.varmax.VARMAXResults.html#statsmodels.tsa.statespace.varmax.VARMAXResults" title="statsmodels.tsa.statespace.varmax.VARMAXResults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">varmax.VARMAXResults</span></code></a>(model, params, …[, …])</p></td>
<td><p>Class to hold results from fitting an VARMAX model.</p></td>
</tr>
</tbody>
</table>
<p>For an example of the use of this model, see the <a class="reference external" href="examples/notebooks/generated/statespace_varmax.html">VARMAX example notebook</a> or the very brief code snippet below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the statsmodels api</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="c1"># Load your (multivariate) dataset</span>
<span class="n">endog</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'your/dataset/here.csv'</span><span class="p">)</span>

<span class="c1"># Fit a local level model</span>
<span class="n">mod_var1</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">tsa</span><span class="o">.</span><span class="n">VARMAX</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="c1"># Note that mod_var1 is an instance of the VARMAX class</span>

<span class="c1"># Fit the model via maximum likelihood</span>
<span class="n">res_var1</span> <span class="o">=</span> <span class="n">mod_var1</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="c1"># Note that res_var1 is an instance of the VARMAXResults class</span>

<span class="c1"># Show the summary of results</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res_var1</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>

<span class="c1"># Construct impulse responses</span>
<span class="n">irfs</span> <span class="o">=</span> <span class="n">res_ll</span><span class="o">.</span><span class="n">impulse_responses</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>


<h3 id="dynamic-factor-models">Dynamic Factor Models<a class="headerlink" href="#dynamic-factor-models" title="Permalink to this headline">¶</a></h3>
<p>The <cite>DynamicFactor</cite> class is another example of a multivariate statespace
model.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.dynamic_factor.DynamicFactor.html#statsmodels.tsa.statespace.dynamic_factor.DynamicFactor" title="statsmodels.tsa.statespace.dynamic_factor.DynamicFactor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dynamic_factor.DynamicFactor</span></code></a>(endog, …[, …])</p></td>
<td><p>Dynamic factor model</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.dynamic_factor.DynamicFactorResults.html#statsmodels.tsa.statespace.dynamic_factor.DynamicFactorResults" title="statsmodels.tsa.statespace.dynamic_factor.DynamicFactorResults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dynamic_factor.DynamicFactorResults</span></code></a>(model, …)</p></td>
<td><p>Class to hold results from fitting an DynamicFactor model.</p></td>
</tr>
</tbody>
</table>
<p>For an example of the use of this model, see the <a class="reference external" href="examples/notebooks/generated/statespace_dfm_coincident.html">Dynamic Factor example notebook</a> or the very brief code snippet below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the statsmodels api</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="c1"># Load your dataset</span>
<span class="n">endog</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'your/dataset/here.csv'</span><span class="p">)</span>

<span class="c1"># Fit a local level model</span>
<span class="n">mod_dfm</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">tsa</span><span class="o">.</span><span class="n">DynamicFactor</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">k_factors</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">factor_order</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># Note that mod_dfm is an instance of the DynamicFactor class</span>

<span class="c1"># Fit the model via maximum likelihood</span>
<span class="n">res_dfm</span> <span class="o">=</span> <span class="n">mod_dfm</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="c1"># Note that res_dfm is an instance of the DynamicFactorResults class</span>

<span class="c1"># Show the summary of results</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res_ll</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>

<span class="c1"># Show a plot of the r^2 values from regressions of</span>
<span class="c1"># individual estimated factors on endogenous variables.</span>
<span class="n">fig_dfm</span> <span class="o">=</span> <span class="n">res_ll</span><span class="o">.</span><span class="n">plot_coefficients_of_determination</span><span class="p">()</span>
</pre></div>
</div>


<h3 id="custom-state-space-models">Custom state space models<a class="headerlink" href="#custom-state-space-models" title="Permalink to this headline">¶</a></h3>
<p>The true power of the state space model is to allow the creation and estimation
of custom models. Usually that is done by extending the following two classes,
which bundle all of state space representation, Kalman filtering, and maximum
likelihood fitting functionality for estimation and results output.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.mlemodel.MLEModel.html#statsmodels.tsa.statespace.mlemodel.MLEModel" title="statsmodels.tsa.statespace.mlemodel.MLEModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mlemodel.MLEModel</span></code></a>(endog, k_states[, exog, …])</p></td>
<td><p>State space model for maximum likelihood estimation</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.mlemodel.MLEResults.html#statsmodels.tsa.statespace.mlemodel.MLEResults" title="statsmodels.tsa.statespace.mlemodel.MLEResults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mlemodel.MLEResults</span></code></a>(model, params, results)</p></td>
<td><p>Class to hold results from fitting a state space model.</p></td>
</tr>
</tbody>
</table>
<p>For a basic example demonstrating creating and estimating a custom state space
model, see the <a class="reference external" href="examples/notebooks/generated/statespace_local_linear_trend.html">Local Linear Trend example notebook</a>.
For a more sophisticated example, see the source code for the <cite>SARIMAX</cite> and
<cite>SARIMAXResults</cite> classes, which are built by extending <cite>MLEModel</cite> and
<cite>MLEResults</cite>.</p>
<p>In simple cases, the model can be constructed entirely using the MLEModel
class. For example, the AR(2) model from above could be constructed and
estimated using only the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy.signal</span> <span class="kn">import</span> <span class="n">lfilter</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="c1"># True model parameters</span>
<span class="n">nobs</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">1e3</span><span class="p">)</span>
<span class="n">true_phi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">]</span>
<span class="n">true_sigma</span> <span class="o">=</span> <span class="mi">1</span><span class="o">**</span><span class="mf">0.5</span>

<span class="c1"># Simulate a time series</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1234</span><span class="p">)</span>
<span class="n">disturbances</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">true_sigma</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">nobs</span><span class="p">,))</span>
<span class="n">endog</span> <span class="o">=</span> <span class="n">lfilter</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="n">true_phi</span><span class="p">],</span> <span class="n">disturbances</span><span class="p">)</span>

<span class="c1"># Construct the model</span>
<span class="k">class</span> <span class="nc">AR2</span><span class="p">(</span><span class="n">sm</span><span class="o">.</span><span class="n">tsa</span><span class="o">.</span><span class="n">statespace</span><span class="o">.</span><span class="n">MLEModel</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endog</span><span class="p">):</span>
        <span class="c1"># Initialize the state space model</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">AR2</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">k_states</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">k_posdef</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                  <span class="n">initialization</span><span class="o">=</span><span class="s1">'stationary'</span><span class="p">)</span>

        <span class="c1"># Setup the fixed components of the state space representation</span>
        <span class="bp">self</span><span class="p">[</span><span class="s1">'design'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="p">[</span><span class="s1">'transition'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                                  <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
        <span class="bp">self</span><span class="p">[</span><span class="s1">'selection'</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="c1"># Describe how parameters enter the model</span>
    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">transformed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">params</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">AR2</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">transformed</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="p">[</span><span class="s1">'transition'</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">params</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
        <span class="bp">self</span><span class="p">[</span><span class="s1">'state_cov'</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="c1"># Specify start parameters and parameter names</span>
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">start_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># these are very simple</span>

<span class="c1"># Create and fit the model</span>
<span class="n">mod</span> <span class="o">=</span> <span class="n">AR2</span><span class="p">(</span><span class="n">endog</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
<p>This results in the following summary table:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                           <span class="n">Statespace</span> <span class="n">Model</span> <span class="n">Results</span>
<span class="o">==============================================================================</span>
<span class="n">Dep</span><span class="o">.</span> <span class="n">Variable</span><span class="p">:</span>                      <span class="n">y</span>   <span class="n">No</span><span class="o">.</span> <span class="n">Observations</span><span class="p">:</span>                 <span class="mi">1000</span>
<span class="n">Model</span><span class="p">:</span>                            <span class="n">AR2</span>   <span class="n">Log</span> <span class="n">Likelihood</span>               <span class="o">-</span><span class="mf">1389.437</span>
<span class="n">Date</span><span class="p">:</span>                <span class="n">Wed</span><span class="p">,</span> <span class="mi">26</span> <span class="n">Oct</span> <span class="mi">2016</span>   <span class="n">AIC</span>                           <span class="mf">2784.874</span>
<span class="n">Time</span><span class="p">:</span>                        <span class="mi">00</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">03</span>   <span class="n">BIC</span>                           <span class="mf">2799.598</span>
<span class="n">Sample</span><span class="p">:</span>                             <span class="mi">0</span>   <span class="n">HQIC</span>                          <span class="mf">2790.470</span>
                               <span class="o">-</span> <span class="mi">1000</span>
<span class="n">Covariance</span> <span class="n">Type</span><span class="p">:</span>                  <span class="n">opg</span>
<span class="o">==============================================================================</span>
                 <span class="n">coef</span>    <span class="n">std</span> <span class="n">err</span>          <span class="n">z</span>      <span class="n">P</span><span class="o">&gt;|</span><span class="n">z</span><span class="o">|</span>      <span class="p">[</span><span class="mf">0.025</span>      <span class="mf">0.975</span><span class="p">]</span>
<span class="o">------------------------------------------------------------------------------</span>
<span class="n">param</span><span class="o">.</span><span class="mi">0</span>        <span class="mf">0.4395</span>      <span class="mf">0.030</span>     <span class="mf">14.730</span>      <span class="mf">0.000</span>       <span class="mf">0.381</span>       <span class="mf">0.498</span>
<span class="n">param</span><span class="o">.</span><span class="mi">1</span>       <span class="o">-</span><span class="mf">0.2055</span>      <span class="mf">0.032</span>     <span class="o">-</span><span class="mf">6.523</span>      <span class="mf">0.000</span>      <span class="o">-</span><span class="mf">0.267</span>      <span class="o">-</span><span class="mf">0.144</span>
<span class="n">param</span><span class="o">.</span><span class="mi">2</span>        <span class="mf">0.9425</span>      <span class="mf">0.042</span>     <span class="mf">22.413</span>      <span class="mf">0.000</span>       <span class="mf">0.860</span>       <span class="mf">1.025</span>
<span class="o">===================================================================================</span>
<span class="n">Ljung</span><span class="o">-</span><span class="n">Box</span> <span class="p">(</span><span class="n">Q</span><span class="p">):</span>                       <span class="mf">24.25</span>   <span class="n">Jarque</span><span class="o">-</span><span class="n">Bera</span> <span class="p">(</span><span class="n">JB</span><span class="p">):</span>                 <span class="mf">0.22</span>
<span class="n">Prob</span><span class="p">(</span><span class="n">Q</span><span class="p">):</span>                              <span class="mf">0.98</span>   <span class="n">Prob</span><span class="p">(</span><span class="n">JB</span><span class="p">):</span>                         <span class="mf">0.90</span>
<span class="n">Heteroskedasticity</span> <span class="p">(</span><span class="n">H</span><span class="p">):</span>               <span class="mf">1.05</span>   <span class="n">Skew</span><span class="p">:</span>                            <span class="o">-</span><span class="mf">0.04</span>
<span class="n">Prob</span><span class="p">(</span><span class="n">H</span><span class="p">)</span> <span class="p">(</span><span class="n">two</span><span class="o">-</span><span class="n">sided</span><span class="p">):</span>                  <span class="mf">0.66</span>   <span class="n">Kurtosis</span><span class="p">:</span>                         <span class="mf">3.02</span>
<span class="o">===================================================================================</span>

<span class="n">Warnings</span><span class="p">:</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="n">Covariance</span> <span class="n">matrix</span> <span class="n">calculated</span> <span class="n">using</span> <span class="n">the</span> <span class="n">outer</span> <span class="n">product</span> <span class="n">of</span> <span class="n">gradients</span> <span class="p">(</span><span class="nb">complex</span><span class="o">-</span><span class="n">step</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<p>The results object has many of the attributes and methods you would expect from
other statsmodels results objects, including standard errors, z-statistics,
and prediction / forecasting.</p>
<p>More advanced usage is possible, including specifying parameter
transformations, and specifying names for parameters for a more informative
output summary.</p>


<h3 id="state-space-representation-and-kalman-filtering">State space representation and Kalman filtering<a class="headerlink" href="#state-space-representation-and-kalman-filtering" title="Permalink to this headline">¶</a></h3>
<p>While creation of custom models will almost always be done by extending
<cite>MLEModel</cite> and <cite>MLEResults</cite>, it can be useful to understand the superstructure
behind those classes.</p>
<p>Maximum likelihood estimation requires evaluating the likelihood function of
the model, and for models in state space form the likelihood function is
evaluated as a byproduct of running the Kalman filter.</p>
<p>There are two classes used by <cite>MLEModel</cite> that facilitate specification of the
state space model and Kalman filtering: <cite>Representation</cite> and <cite>KalmanFilter</cite>.</p>
<p>The <cite>Representation</cite> class is the piece where the state space model
representation is defined. In simple terms, it holds the state space matrices
(<cite>design</cite>, <cite>obs_intercept</cite>, etc.; see the introduction to state space models,
above) and allows their manipulation.</p>
<p><cite>FrozenRepresentation</cite> is the most basic results-type class, in that it takes a
“snapshot” of the state space representation at any given time. See the class
documentation for the full list of available attributes.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.representation.Representation.html#statsmodels.tsa.statespace.representation.Representation" title="statsmodels.tsa.statespace.representation.Representation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">representation.Representation</span></code></a>(k_endog, k_states)</p></td>
<td><p>State space representation of a time series process</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.representation.FrozenRepresentation.html#statsmodels.tsa.statespace.representation.FrozenRepresentation" title="statsmodels.tsa.statespace.representation.FrozenRepresentation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">representation.FrozenRepresentation</span></code></a>(model)</p></td>
<td><p>Frozen Statespace Model</p></td>
</tr>
</tbody>
</table>
<p>The <cite>KalmanFilter</cite> class is a subclass of Representation that provides
filtering capabilities. Once the state space representation matrices have been
constructed, the <a class="reference internal" href="generated/generated/statsmodels.tsa.statespace.kalman_filter.KalmanFilter.filter.html#statsmodels.tsa.statespace.kalman_filter.KalmanFilter.filter" title="statsmodels.tsa.statespace.kalman_filter.KalmanFilter.filter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">filter</span></code></a>
method can be called, producing a <cite>FilterResults</cite> instance; <cite>FilterResults</cite> is
a subclass of <cite>FrozenRepresentation</cite>.</p>
<p>The <cite>FilterResults</cite> class not only holds a frozen representation of the state
space model (the design, transition, etc. matrices, as well as model
dimensions, etc.) but it also holds the filtering output, including the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">filtered</span> <span class="pre">state</span></code> and
loglikelihood (see the class documentation for the full list of available
results). It also provides a
<a class="reference internal" href="generated/generated/statsmodels.tsa.statespace.kalman_filter.FilterResults.predict.html#statsmodels.tsa.statespace.kalman_filter.FilterResults.predict" title="statsmodels.tsa.statespace.kalman_filter.FilterResults.predict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">predict</span></code></a> method, which allows
in-sample prediction or out-of-sample forecasting. A similar method,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">predict</span></code>, provides
additional prediction or forecasting results, including confidence intervals.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.kalman_filter.KalmanFilter.html#statsmodels.tsa.statespace.kalman_filter.KalmanFilter" title="statsmodels.tsa.statespace.kalman_filter.KalmanFilter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kalman_filter.KalmanFilter</span></code></a>(k_endog, k_states)</p></td>
<td><p>State space representation of a time series process, with Kalman filter</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.kalman_filter.FilterResults.html#statsmodels.tsa.statespace.kalman_filter.FilterResults" title="statsmodels.tsa.statespace.kalman_filter.FilterResults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kalman_filter.FilterResults</span></code></a>(model)</p></td>
<td><p>Results from applying the Kalman filter to a state space model.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.kalman_filter.PredictionResults.html#statsmodels.tsa.statespace.kalman_filter.PredictionResults" title="statsmodels.tsa.statespace.kalman_filter.PredictionResults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kalman_filter.PredictionResults</span></code></a>(results, …)</p></td>
<td><p>Results of in-sample and out-of-sample prediction for state space models generally</p></td>
</tr>
</tbody>
</table>
<p>The <cite>KalmanSmoother</cite> class is a subclass of <cite>KalmanFilter</cite> that provides
smoothing capabilities. Once the state space representation matrices have been
constructed, the <code class="xref py py-meth docutils literal notranslate"><span class="pre">filter</span></code>
method can be called, producing a <cite>SmootherResults</cite> instance; <cite>SmootherResults</cite>
is a subclass of <cite>FilterResults</cite>.</p>
<p>The <cite>SmootherResults</cite> class holds all the output from <cite>FilterResults</cite>, but
also includes smoothing output, including the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">smoothed</span> <span class="pre">state</span></code> and
loglikelihood (see the class documentation for the full list of available
results). Whereas “filtered” output at time <cite>t</cite> refers to estimates conditional
on observations up through time <cite>t</cite>, “smoothed” output refers to estimates
conditional on the entire set of observations in the dataset.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.kalman_smoother.KalmanSmoother.html#statsmodels.tsa.statespace.kalman_smoother.KalmanSmoother" title="statsmodels.tsa.statespace.kalman_smoother.KalmanSmoother"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kalman_smoother.KalmanSmoother</span></code></a>(k_endog, k_states)</p></td>
<td><p>State space representation of a time series process, with Kalman filter and smoother.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.kalman_smoother.SmootherResults.html#statsmodels.tsa.statespace.kalman_smoother.SmootherResults" title="statsmodels.tsa.statespace.kalman_smoother.SmootherResults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kalman_smoother.SmootherResults</span></code></a>(model)</p></td>
<td><p>Results from applying the Kalman smoother and/or filter to a state space model.</p></td>
</tr>
</tbody>
</table>



<h2 id="statespace-diagnostics">Statespace diagnostics<a class="headerlink" href="#statespace-diagnostics" title="Permalink to this headline">¶</a></h2>
<p>Three diagnostic tests are available after estimation of any statespace model,
whether built in or custom, to help assess whether the model conforms to the
underlying statistical assumptions. These tests are:</p>
<ul class="simple">
<li><p><a class="reference internal" href="generated/generated/statsmodels.tsa.statespace.mlemodel.MLEResults.test_normality.html#statsmodels.tsa.statespace.mlemodel.MLEResults.test_normality" title="statsmodels.tsa.statespace.mlemodel.MLEResults.test_normality"><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_normality</span></code></a></p></li>
<li><p><a class="reference internal" href="generated/generated/statsmodels.tsa.statespace.mlemodel.MLEResults.test_heteroskedasticity.html#statsmodels.tsa.statespace.mlemodel.MLEResults.test_heteroskedasticity" title="statsmodels.tsa.statespace.mlemodel.MLEResults.test_heteroskedasticity"><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_heteroskedasticity</span></code></a></p></li>
<li><p><a class="reference internal" href="generated/generated/statsmodels.tsa.statespace.mlemodel.MLEResults.test_serial_correlation.html#statsmodels.tsa.statespace.mlemodel.MLEResults.test_serial_correlation" title="statsmodels.tsa.statespace.mlemodel.MLEResults.test_serial_correlation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_serial_correlation</span></code></a></p></li>
</ul>
<p>A number of standard plots of regression residuals are available for the same
purpose. These can be produced using the command
<a class="reference internal" href="generated/generated/statsmodels.tsa.statespace.mlemodel.MLEResults.plot_diagnostics.html#statsmodels.tsa.statespace.mlemodel.MLEResults.plot_diagnostics" title="statsmodels.tsa.statespace.mlemodel.MLEResults.plot_diagnostics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot_diagnostics</span></code></a>.</p>


<h2 id="statespace-tools">Statespace Tools<a class="headerlink" href="#statespace-tools" title="Permalink to this headline">¶</a></h2>
<p>There are a variety of tools used for state space modeling or by the SARIMAX
class:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.tools.companion_matrix.html#statsmodels.tsa.statespace.tools.companion_matrix" title="statsmodels.tsa.statespace.tools.companion_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tools.companion_matrix</span></code></a>(polynomial)</p></td>
<td><p>Create a companion matrix</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.tools.diff.html#statsmodels.tsa.statespace.tools.diff" title="statsmodels.tsa.statespace.tools.diff"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tools.diff</span></code></a>(series[, k_diff, …])</p></td>
<td><p>Difference a series simply and/or seasonally along the zero-th axis.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.tools.is_invertible.html#statsmodels.tsa.statespace.tools.is_invertible" title="statsmodels.tsa.statespace.tools.is_invertible"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tools.is_invertible</span></code></a>(polynomial[, threshold])</p></td>
<td><p>Determine if a polynomial is invertible.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.tools.constrain_stationary_univariate.html#statsmodels.tsa.statespace.tools.constrain_stationary_univariate" title="statsmodels.tsa.statespace.tools.constrain_stationary_univariate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tools.constrain_stationary_univariate</span></code></a>(…)</p></td>
<td><p>Transform unconstrained parameters used by the optimizer to constrained parameters used in likelihood evaluation</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.tools.unconstrain_stationary_univariate.html#statsmodels.tsa.statespace.tools.unconstrain_stationary_univariate" title="statsmodels.tsa.statespace.tools.unconstrain_stationary_univariate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tools.unconstrain_stationary_univariate</span></code></a>(…)</p></td>
<td><p>Transform constrained parameters used in likelihood evaluation to unconstrained parameters used by the optimizer</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.tools.constrain_stationary_multivariate.html#statsmodels.tsa.statespace.tools.constrain_stationary_multivariate" title="statsmodels.tsa.statespace.tools.constrain_stationary_multivariate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tools.constrain_stationary_multivariate</span></code></a>(…)</p></td>
<td><p>Transform unconstrained parameters used by the optimizer to constrained parameters used in likelihood evaluation for a vector autoregression.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.tools.unconstrain_stationary_multivariate.html#statsmodels.tsa.statespace.tools.unconstrain_stationary_multivariate" title="statsmodels.tsa.statespace.tools.unconstrain_stationary_multivariate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tools.unconstrain_stationary_multivariate</span></code></a>(…)</p></td>
<td><p>Transform constrained parameters used in likelihood evaluation to unconstrained parameters used by the optimizer</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.tools.validate_matrix_shape.html#statsmodels.tsa.statespace.tools.validate_matrix_shape" title="statsmodels.tsa.statespace.tools.validate_matrix_shape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tools.validate_matrix_shape</span></code></a>(name, shape, …)</p></td>
<td><p>Validate the shape of a possibly time-varying matrix, or raise an exception</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/statsmodels.tsa.statespace.tools.validate_vector_shape.html#statsmodels.tsa.statespace.tools.validate_vector_shape" title="statsmodels.tsa.statespace.tools.validate_vector_shape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tools.validate_vector_shape</span></code></a>(name, shape, …)</p></td>
<td><p>Validate the shape of a possibly time-varying vector, or raise an exception</p></td>
</tr>
</tbody>
</table>




          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="generated/statsmodels.tsa.interp.denton.dentonm.html" title="Material"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> statsmodels.tsa.interp.denton.dentonm </span>
              </div>
            </a>
          
          
            <a href="generated/statsmodels.tsa.statespace.sarimax.SARIMAX.html" title="Admonition"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> statsmodels.tsa.statespace.sarimax.SARIMAX </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2009-2019, Josef Perktold, Skipper Seabold, Jonathan Taylor, statsmodels-developers.
              
          </div>
            Last updated on
              Dec 12, 2019.
            <br/>
            Created using
            <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.2.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>